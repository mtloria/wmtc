"use strict";(self.webpackChunkwmtc=self.webpackChunkwmtc||[]).push([[791],{2241:function(e,t,n){var a=n(6540),r=n(4164),l=n(5659),o=n(8651),s=n(3551),i=n(2850),c=n(1848),d=n(5669),m=n(8081),u=n(6025),p=n(4848);const y=(0,c.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${m.A.primary}`]:t.primary},{[`& .${m.A.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${o.A.root}:where(& .${m.A.primary})`]:{display:"block"},[`.${o.A.root}:where(& .${m.A.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),A=a.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiListItemText"}),{children:o,className:c,disableTypography:A=!1,inset:g=!1,primary:v,primaryTypographyProps:f,secondary:h,secondaryTypographyProps:b,slots:E={},slotProps:x={},...w}=n,{dense:k}=a.useContext(i.A);let C=null!=v?v:o,S=h;const M={...n,disableTypography:A,inset:g,primary:!!C,secondary:!!S,dense:k},$=(e=>{const{classes:t,inset:n,primary:a,secondary:r,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",a&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,l.A)(s,m.b,t)})(M),I={slots:E,slotProps:{primary:f,secondary:b,...x}},[N,W]=(0,u.A)("primary",{className:$.primary,elementType:s.A,externalForwardedProps:I,ownerState:M}),[T,R]=(0,u.A)("secondary",{className:$.secondary,elementType:s.A,externalForwardedProps:I,ownerState:M});return null==C||C.type===s.A||A||(C=(0,p.jsx)(N,{variant:k?"body2":"body1",component:W?.variant?void 0:"span",...W,children:C})),null==S||S.type===s.A||A||(S=(0,p.jsx)(T,{variant:"body2",color:"textSecondary",...R,children:S})),(0,p.jsxs)(y,{className:(0,r.A)($.root,c),ownerState:M,ref:t,...w,children:[C,S]})}));t.A=A},5072:function(e,t,n){n.d(t,{g:function(){return l}});const a=e=>(e||"").replace(/\s+/g,"").replace(/mile(s)?/gi,"mile").replace(/k/gi,"k").replace(/\./g,"").toLowerCase(),r=Object.fromEntries(["800m","1 mile","3K","5K","8K","10K","10 mile","Half Marathon","Marathon","50K","50 mile","100K","100 Mile"].map(((e,t)=>[a(e),t]))),l=(e,t)=>{var n,l;const o=null!==(n=r[a(e)])&&void 0!==n?n:1/0,s=null!==(l=r[a(t)])&&void 0!==l?l:1/0;return o!==s?o-s:(e||"").localeCompare(t||"",void 0,{numeric:!0,sensitivity:"base"})}},6721:function(e,t,n){n.d(t,{f:function(){return l}});var a=n(8413),r=n(1609);function l(e){return(0,r.Ay)("MuiListItemIcon",e)}const o=(0,a.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.A=o},8081:function(e,t,n){n.d(t,{b:function(){return l}});var a=n(8413),r=n(1609);function l(e){return(0,r.Ay)("MuiListItemText",e)}const o=(0,a.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.A=o},8245:function(e,t,n){n.r(t),n.d(t,{default:function(){return Se}});var a=n(4506),r=n(6540),l=n(6793),o=n(7164),s=n(7834),i=n(3551),c=n(4164),d=n(1317),m=n(1609),u=n(5659),p=n(4247),y=n(4467),A=n(9599),g=n(6641),v=n(9499),f=n(4580),h=n(4848);const b=(0,g.A)(),E=(0,p.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function x(e){return(0,y.A)({props:e,name:"MuiStack",defaultTheme:b})}function w(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,a,l)=>(e.push(a),l<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${l}`})),e)),[])}const k=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...(0,v.NI)({theme:t},(0,v.kW)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e})))};if(e.spacing){const a=(0,f.LX)(t),r=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),l=(0,v.kW)({values:e.direction,base:r}),o=(0,v.kW)({values:e.spacing,base:r});"object"==typeof l&&Object.keys(l).forEach(((e,t,n)=>{if(!l[e]){const a=t>0?l[n[t-1]]:"column";l[e]=a}}));const s=(t,n)=>{return e.useFlexGap?{gap:(0,f._W)(a,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${r=n?l[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:(0,f._W)(a,t)}};var r};n=(0,d.A)(n,(0,v.NI)({theme:t},o,s))}return n=(0,v.iZ)(t.breakpoints,n),n};var C=n(1848),S=n(5669);const M=function(e={}){const{createStyledComponent:t=E,useThemeProps:n=x,componentName:a="MuiStack"}=e,l=t(k),o=r.forwardRef((function(e,t){const r=n(e),o=(0,A.A)(r),{component:s="div",direction:i="column",spacing:d=0,divider:p,children:y,className:g,useFlexGap:v=!1,...f}=o,b={direction:i,spacing:d,useFlexGap:v},E=(0,u.A)({root:["root"]},(e=>(0,m.Ay)(a,e)),{});return(0,h.jsx)(l,{as:s,ownerState:b,ref:t,className:(0,c.A)(E.root,g),...f,children:p?w(y,p):y})}));return o}({createStyledComponent:(0,C.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,S.b)({props:e,name:"MuiStack"})});var $=M,I=n(2471),N=n(779),W=n(4433),T=n(643),R=n(3139),L=n(9770),P=n(9077),O=n(2850),j=n(9261),D=n(2778),F=n(6852),H=n(8413);var B=(0,H.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),G=n(6721),V=n(8081);function z(e){return(0,m.Ay)("MuiMenuItem",e)}var K=(0,H.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);const X=(0,C.Ay)(j.A,{shouldForwardProp:e=>(0,L.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((0,P.A)((({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${K.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,R.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${K.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,R.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${K.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,R.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,R.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${K.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${K.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${B.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${B.inset}`]:{marginLeft:52},[`& .${V.A.root}`]:{marginTop:0,marginBottom:0},[`& .${V.A.inset}`]:{paddingLeft:36},[`& .${G.A.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${G.A.root} svg`]:{fontSize:"1.25rem"}}}]}))));var Q=r.forwardRef((function(e,t){const n=(0,S.b)({props:e,name:"MuiMenuItem"}),{autoFocus:a=!1,component:l="li",dense:o=!1,divider:s=!1,disableGutters:i=!1,focusVisibleClassName:d,role:m="menuitem",tabIndex:p,className:y,...A}=n,g=r.useContext(O.A),v=r.useMemo((()=>({dense:o||g.dense||!1,disableGutters:i})),[g.dense,o,i]),f=r.useRef(null);(0,D.A)((()=>{a&&f.current&&f.current.focus()}),[a]);const b={...n,dense:v.dense,divider:s,disableGutters:i},E=(e=>{const{disabled:t,dense:n,divider:a,disableGutters:r,selected:l,classes:o}=e,s={root:["root",n&&"dense",t&&"disabled",!r&&"gutters",a&&"divider",l&&"selected"]},i=(0,u.A)(s,z,o);return{...o,...i}})(n),x=(0,F.A)(f,t);let w;return n.disabled||(w=void 0!==p?p:-1),(0,h.jsx)(O.A.Provider,{value:v,children:(0,h.jsx)(X,{ref:x,role:m,tabIndex:w,component:l,focusVisibleClassName:(0,c.A)(E.focusVisible,d),className:(0,c.A)(E.root,y),...A,ownerState:b,classes:E})})})),Y=n(6990),_=n(9799),q=n(4090),J=n(7211),U=n(2241),Z=n(3357),ee=n(921),te=n(8719),ne=n(6576),ae=n(3992),re=n(477),le=n(3198),oe=n(4155),se=n(4137),ie=n(6627),ce=n(6798),de=n(4774),me=n(3884),ue=n(2848),pe=n(6431);var ye=e=>{let{results:t}=e;const n=(0,re.A)("(max-width:600px)"),[a,l]=r.useState({}),[s,i]=r.useState(!0);r.useEffect((()=>{if(!s)return;const e=setTimeout((()=>i(!1)),2500);return()=>clearTimeout(e)}),[s]),r.useEffect((()=>{l({})}),[n]);return n?r.createElement(o.A,{sx:{position:"relative"}},s&&r.createElement(o.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255,255,255,0.92)",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"}},r.createElement(o.A,{sx:{p:3,borderRadius:2,bgcolor:"background.paper",boxShadow:2,textAlign:"center"}},r.createElement("span",{style:{fontWeight:600,fontSize:18}},"Tap any row to see more details"))),r.createElement(le.A,{component:oe.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ccc",borderRadius:"8px"}},r.createElement(se.A,{size:"small",stickyHeader:!0},r.createElement(ie.A,null,r.createElement(ce.A,{style:{backgroundColor:"#f5f5f5"}},r.createElement(de.A,{style:{fontWeight:"bold"}},"Name"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Distance"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Result"),r.createElement(de.A,null))),r.createElement(me.A,null,t.map(((e,t)=>r.createElement(r.Fragment,{key:t},r.createElement(ce.A,{hover:!0,onClick:()=>(e=>{l((t=>({...t,[e]:!t[e]})))})(t),sx:{cursor:"pointer",transition:"background 0.2s",backgroundColor:a[t]?"action.selected":void 0,"&:hover":{backgroundColor:a[t]?"action.selected":"action.hover"},userSelect:"none"}},r.createElement(de.A,null,e.name),r.createElement(de.A,null,e.distance),r.createElement(de.A,null,(0,pe.o)(e.result)),r.createElement(de.A,null)),r.createElement(ce.A,null,r.createElement(de.A,{style:{paddingBottom:0,paddingTop:0},colSpan:4},r.createElement(ue.A,{in:a[t],timeout:"auto",unmountOnExit:!0},r.createElement(o.A,{margin:1},r.createElement("div",null,r.createElement("strong",null,"Event:")," ",e.event),e.place&&r.createElement("div",null,r.createElement("strong",null,"Place:")," ",e.place),r.createElement("div",null,r.createElement("strong",null,"Date:")," ",e.date)))))))))))):r.createElement(le.A,{component:oe.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ddd"}},r.createElement(se.A,{stickyHeader:!0},r.createElement(ie.A,null,r.createElement(ce.A,{style:{backgroundColor:"#f5f5f5"}},r.createElement(de.A,{style:{fontWeight:"bold"}},"Name"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Distance"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Result"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Event"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Place"),r.createElement(de.A,{style:{fontWeight:"bold"}},"Date"))),r.createElement(me.A,null,t.map(((e,t)=>r.createElement(ce.A,{key:t,hover:!0},r.createElement(de.A,null,e.name),r.createElement(de.A,null,e.distance),r.createElement(de.A,null,(0,pe.o)(e.result)),r.createElement(de.A,null,e.event),r.createElement(de.A,null,e.place),r.createElement(de.A,null,e.date)))))))},Ae=n(5072),ge=n(8420),ve=n(4519),fe=n(7065),he=(0,n(5003).A)((0,h.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const be="All Years",Ee="Unknown",xe=e=>{if(!e)return null;const t=new Date(e).getTime();return Number.isNaN(t)?null:t},we=(e,t)=>{const n=xe(e.date),a=xe(t.date);return null===n&&null===a?0:null===n?1:null===a?-1:a-n},ke=(e,t)=>(0,Ae.g)(e,t),Ce=(e,t,n)=>{const r=e.filter(Boolean).reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{}),l=Object.entries(r).sort(((e,t)=>t[1]!==e[1]?t[1]-e[1]:e[0].localeCompare(t[0]))).slice(0,t).map((e=>{let[t]=e;return t}));return n?(0,a.A)(l).sort(n):l};var Se=()=>{const[e,t]=r.useState([]),[n,c]=r.useState(!0),[d,m]=r.useState(null),[u,p]=r.useState(null),[y,A]=r.useState(null),[g,v]=r.useState(""),[f,h]=r.useState("All"),[b,E]=r.useState("All"),[x,w]=r.useState("undefined"!=typeof window&&window.matchMedia("(max-width:600px)").matches);r.useEffect((()=>{document.body.style.margin="0",document.body.style.padding="0",document.title="Results | WMTC";(async()=>{c(!0),m(null);try{const e=await(0,ae.b)("138hvDGLQMJmggHGqWQr_E29276fiE29VS0OQflFsgMk","Results");t(e)}catch(e){m("Failed to load results. Please try again later.")}finally{c(!1)}})()}),[]),r.useEffect((()=>{const e=window.matchMedia("(max-width:600px)"),t=()=>w(e.matches);return e.addEventListener("change",t),w(e.matches),()=>e.removeEventListener("change",t)}),[]);const k=e.filter((e=>e["First Name"]&&""!==e["First Name"].trim()||e["Last Name"]&&""!==e["Last Name"].trim())).map((e=>{let t=e["Race Date"]||"";t=(0,pe.H)(t);let n=e["Result (HH:MM:SS.MS)"]||"";n=(0,pe.o)(n);let a=e["Place (optional)"]&&"N/A"!==e["Place (optional)"].trim()?e["Place (optional)"]:"";return{name:`${e["First Name"]||""} ${e["Last Name"]||""}`.trim(),distance:e["Event Distance"]||"",result:n,event:e["Event Name"]||"",place:a,date:t}})),C=(0,a.A)(k).sort(we),S=Ce(k.map((e=>e.distance)),8,ke),M=Ce(k.map((e=>e.event)),12,((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})));r.useEffect((()=>{"All"===f||S.includes(f)||h("All")}),[f,S]),r.useEffect((()=>{"All"===b||M.includes(b)||E("All")}),[b,M]);const R=g.trim().toLowerCase(),L=C.filter((e=>{const t=!R||e.name.toLowerCase().includes(R)||e.event.toLowerCase().includes(R),n="All"===f||e.distance===f,a="All"===b||e.event===b;return t&&n&&a})),P=L.reduce(((e,t)=>{const n=xe(t.date),a=null===n?Ee:new Date(n).getFullYear();return e[a]||(e[a]=[]),e[a].push(t),e}),{}),O=Object.keys(P).filter((e=>e!==Ee)).map(Number).sort(((e,t)=>t-e));P[Ee]&&O.push(Ee);const j=[be].concat((0,a.A)(O)),D=(new Date).getFullYear();r.useEffect((()=>{var e;j.includes(u)||p(O.includes(D)?D:null!==(e=O[0])&&void 0!==e?e:be)}),[j,O,u,D]),r.useEffect((()=>{y&&!j.includes(y)&&A(null)}),[y,j]);const F=u===be?L:P[u]||[];return r.createElement(ge.A,{theme:fe.A},r.createElement(ve.Ay,null),r.createElement(o.A,{sx:{backgroundColor:"background.default",minHeight:"100vh",width:"100vw"}},r.createElement(l.A,null),r.createElement(s.A,null,r.createElement(i.A,{variant:"h1",gutterBottom:!0,align:"center",sx:{mt:{xs:4,md:6}}},"Results"),!n&&!d&&r.createElement(o.A,{sx:{maxWidth:"1400px",margin:"0 auto",mt:2}},r.createElement($,{direction:{xs:"column",md:"row"},spacing:2,alignItems:{xs:"stretch",md:"center"}},r.createElement(I.A,{label:"Search athlete name or event",value:g,onChange:e=>v(e.target.value),fullWidth:!0}),r.createElement(N.A,{sx:{minWidth:180}},r.createElement(W.A,{id:"distance-filter-label"},"Popular Distance"),r.createElement(T.A,{labelId:"distance-filter-label",label:"Popular Distances",value:f,onChange:e=>h(e.target.value)},r.createElement(Q,{value:"All"},"All distances"),S.map((e=>r.createElement(Q,{key:e,value:e},e))))),r.createElement(N.A,{sx:{minWidth:220}},r.createElement(W.A,{id:"event-filter-label"},"Popular Event"),r.createElement(T.A,{labelId:"event-filter-label",label:"Popular Events",value:b,onChange:e=>E(e.target.value)},r.createElement(Q,{value:"All"},"All events"),M.map((e=>r.createElement(Q,{key:e,value:e},e))))),r.createElement(Y.A,{variant:"outlined",onClick:()=>{v(""),h("All"),E("All")},sx:{alignSelf:{xs:"stretch",md:"center"}}},"Clear"))),r.createElement(o.A,{sx:{maxWidth:"1400px",margin:"0 auto",display:"flex",flexDirection:x?"column":"row",alignItems:"stretch",justifyContent:"center",mt:4}},!x&&r.createElement(o.A,{sx:{minWidth:200,maxWidth:220,mr:4,display:"flex",alignItems:"stretch",height:"100%"}},r.createElement(_.A,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2,boxShadow:1,height:"100%"}},j.map((e=>r.createElement(q.Ay,{key:e,disablePadding:!0},r.createElement(J.A,{selected:u===e,onClick:()=>p(e)},r.createElement(U.A,{primary:e}))))))),r.createElement(o.A,{sx:{flexGrow:1,minWidth:0,display:"flex",alignItems:"flex-start",p:0,width:"100%"}},n?r.createElement(o.A,{sx:{display:"flex",justifyContent:"center",p:3}},r.createElement(Z.A,null)):d?r.createElement(o.A,{sx:{p:3,textAlign:"center",color:"error.main"}},r.createElement(i.A,null,d)):x?r.createElement(o.A,{sx:{width:"100%"}},j.map((e=>r.createElement(ee.A,{key:e,sx:{mb:2},expanded:y===e,onChange:()=>A(y===e?null:e)},r.createElement(te.A,{expandIcon:r.createElement(he,null)},r.createElement(i.A,{variant:"h6"},e)),r.createElement(ne.A,null,r.createElement(ye,{results:e===be?L:P[e]||[]})))))):u&&(F.length>0?r.createElement(ye,{results:F}):r.createElement(o.A,{sx:{p:3,textAlign:"center",width:"100%"}},r.createElement(i.A,null,"No results match your search and filters."))))))))}}}]);
//# sourceMappingURL=component---src-pages-results-js-6d0a7e8ffbc92c0c9322.js.map