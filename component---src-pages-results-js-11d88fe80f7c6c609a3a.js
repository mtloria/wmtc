"use strict";(self.webpackChunkwmtc=self.webpackChunkwmtc||[]).push([[791],{644:function(e,t,l){function n(e){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[t,l,n]=e.split("/"),a=new Date(Date.UTC(n,t-1,Number(l)+1));if(!isNaN(a))return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return e}l.d(t,{H:function(){return n}})},2183:function(e,t,l){var n=l(5003),a=l(4848);t.A=(0,n.A)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown")},9097:function(e,t,l){l.r(t),l.d(t,{default:function(){return P}});var n=l(6540),a=l(6793),r=l(7164),c=l(1208),m=l(3551),s=l(9799),o=l(4090),i=l(7211),u=l(4545),d=l(3357),E=l(921),A=l(8719),p=l(6576),h=l(3992),f=l(477),g=l(3198),y=l(4155),x=l(4137),b=l(6627),w=l(6798),k=l(4774),v=l(3884),N=l(1641),D=l(2848),S=l(9682),W=l(2183);var C=e=>{let{results:t}=e;const l=(0,f.A)("(max-width:600px)"),[a,c]=n.useState({});return l?n.createElement(g.A,{component:y.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ccc",borderRadius:"8px"}},n.createElement(x.A,{size:"small",stickyHeader:!0},n.createElement(b.A,null,n.createElement(w.A,{style:{backgroundColor:"#f5f5f5"}},n.createElement(k.A,{style:{fontWeight:"bold"}},"Name"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Distance"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Result"),n.createElement(k.A,null))),n.createElement(v.A,null,t.map(((e,t)=>n.createElement(n.Fragment,{key:t},n.createElement(w.A,{hover:!0},n.createElement(k.A,null,e.name),n.createElement(k.A,null,e.distance),n.createElement(k.A,null,e.result),n.createElement(k.A,null,n.createElement(N.A,{"aria-label":"expand row",size:"small",onClick:()=>(e=>{c((t=>({...t,[e]:!t[e]})))})(t)},a[t]?n.createElement(S.A,null):n.createElement(W.A,null)))),n.createElement(w.A,null,n.createElement(k.A,{style:{paddingBottom:0,paddingTop:0},colSpan:4},n.createElement(D.A,{in:a[t],timeout:"auto",unmountOnExit:!0},n.createElement(r.A,{margin:1},n.createElement("div",null,n.createElement("strong",null,"Event:")," ",e.event),e.place&&n.createElement("div",null,n.createElement("strong",null,"Place:")," ",e.place),n.createElement("div",null,n.createElement("strong",null,"Date:")," ",e.date))))))))))):n.createElement(g.A,{component:y.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ddd"}},n.createElement(x.A,{stickyHeader:!0},n.createElement(b.A,null,n.createElement(w.A,{style:{backgroundColor:"#f5f5f5"}},n.createElement(k.A,{style:{fontWeight:"bold"}},"Name"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Distance"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Result"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Event"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Place"),n.createElement(k.A,{style:{fontWeight:"bold"}},"Date"))),n.createElement(v.A,null,t.map(((e,t)=>n.createElement(w.A,{key:t,hover:!0},n.createElement(k.A,null,e.name),n.createElement(k.A,null,e.distance),n.createElement(k.A,null,e.result),n.createElement(k.A,null,e.event),n.createElement(k.A,null,e.place),n.createElement(k.A,null,e.date)))))))},H=l(644),M=l(6829),R=l(4519),F=l(7065),L=l(1692);var P=()=>{const[e,t]=n.useState([]),[l,f]=n.useState(!0),[g,y]=n.useState(null),[x,b]=n.useState(null),[w,k]=n.useState(null);n.useEffect((()=>{document.body.style.margin="0",document.body.style.padding="0",document.title="Results | WMTC";(async()=>{f(!0),y(null);try{const e=await(0,h.b)("138hvDGLQMJmggHGqWQr_E29276fiE29VS0OQflFsgMk","Results");t(e)}catch(e){y("Failed to load results. Please try again later.")}finally{f(!1)}})()}),[]);const v=e.filter((e=>e["First Name"]&&""!==e["First Name"].trim()||e["Last Name"]&&""!==e["Last Name"].trim())).map((e=>{let t=e["Race Date"]||"";t=(0,H.H)(t);let l=e["Result (HH:MM:SS.MS)"]||"";if(l){const[e,t]=l.split("."),n=e.split(":"),a=n[1]?n[1].replace(/^0+(?!$)/,""):"",r=n[2]?n[2].replace(/^0+(?!$)/,""):"";let c="";c=n[0]&&Number(n[0])>0?String(Number(n[0]))+":"+a+":"+r:a+":"+r,l=c+(t?"."+t:"")}let n=e["Place (optional)"]&&"N/A"!==e["Place (optional)"].trim()?e["Place (optional)"]:"";return{name:`${e["First Name"]||""} ${e["Last Name"]||""}`.trim(),distance:e["Event Distance"]||"",result:l,event:e["Event Name"]||"",place:n,date:t}})).reduce(((e,t)=>{const l=t.date?new Date(t.date).getFullYear():"Unknown";return e[l]||(e[l]=[]),e[l].push(t),e}),{});Object.keys(v).forEach((e=>{v[e].sort(((e,t)=>e.date&&t.date?new Date(t.date)-new Date(e.date):0))}));const N=Object.keys(v).filter((e=>"Unknown"!==e)).map(Number).sort(((e,t)=>t-e));v.Unknown&&N.push("Unknown"),n.useEffect((()=>{N.length>0&&!x&&b(N[0])}),[N,x]);const D="undefined"!=typeof window&&window.matchMedia("(max-width:600px)").matches;return n.createElement(M.A,{theme:F.A},n.createElement(R.Ay,null),n.createElement(r.A,{sx:{backgroundColor:"background.default",minHeight:"100vh",width:"100vw"}},n.createElement(a.A,null),n.createElement(c.A,null,n.createElement(m.A,{variant:"h1",gutterBottom:!0,align:"center",sx:{mt:{xs:4,md:6}}},"Results"),n.createElement(r.A,{sx:{maxWidth:"1400px",margin:"0 auto",display:"flex",flexDirection:D?"column":"row",alignItems:"stretch",justifyContent:"center",mt:4}},!D&&n.createElement(r.A,{sx:{minWidth:200,maxWidth:220,mr:4,display:"flex",alignItems:"stretch",height:"100%"}},n.createElement(s.A,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2,boxShadow:1,height:"100%"}},N.map((e=>n.createElement(o.Ay,{key:e,disablePadding:!0},n.createElement(i.A,{selected:x===e,onClick:()=>b(e)},n.createElement(u.A,{primary:e}))))))),n.createElement(r.A,{sx:{flexGrow:1,minWidth:0,display:"flex",alignItems:"flex-start",p:0,width:"100%"}},l?n.createElement(r.A,{sx:{display:"flex",justifyContent:"center",p:3}},n.createElement(d.A,null)):g?n.createElement(r.A,{sx:{p:3,textAlign:"center",color:"error.main"}},n.createElement(m.A,null,g)):D?n.createElement(r.A,{sx:{width:"100%"}},N.map((e=>n.createElement(E.A,{key:e,sx:{mb:2},expanded:w===e,onChange:()=>k(w===e?null:e)},n.createElement(A.A,{expandIcon:n.createElement(L.A,null)},n.createElement(m.A,{variant:"h6"},e)),n.createElement(p.A,null,n.createElement(C,{results:v[e]})))))):x&&n.createElement(C,{results:v[x]}))))))}},9682:function(e,t,l){var n=l(5003),a=l(4848);t.A=(0,n.A)((0,a.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp")}}]);
//# sourceMappingURL=component---src-pages-results-js-11d88fe80f7c6c609a3a.js.map