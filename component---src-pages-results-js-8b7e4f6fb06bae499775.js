"use strict";(self.webpackChunkwmtc=self.webpackChunkwmtc||[]).push([[791],{644:function(e,t,n){function r(e){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[t,n,r]=e.split("/"),a=new Date(Date.UTC(r,t-1,Number(n)+1));if(!isNaN(a))return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return e}n.d(t,{H:function(){return r}})},4545:function(e,t,n){n.d(t,{A:function(){return g}});var r=n(6540),a=n(4164),l=n(5659),o=n(8651),s=n(3551),c=n(2850),i=n(1848),m=n(5669),d=n(8413),u=n(1609);function p(e){return(0,u.Ay)("MuiListItemText",e)}var y=(0,d.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),E=n(6025),A=n(4848);const h=(0,i.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${y.primary}`]:t.primary},{[`& .${y.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${o.A.root}:where(& .${y.primary})`]:{display:"block"},[`.${o.A.root}:where(& .${y.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]});var g=r.forwardRef((function(e,t){const n=(0,m.b)({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:d=!1,inset:u=!1,primary:y,primaryTypographyProps:g,secondary:f,secondaryTypographyProps:x,slots:b={},slotProps:w={},...v}=n,{dense:k}=r.useContext(c.A);let S=null!=y?y:o,N=f;const T={...n,disableTypography:d,inset:u,primary:!!S,secondary:!!N,dense:k},W=(e=>{const{classes:t,inset:n,primary:r,secondary:a,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,l.A)(s,p,t)})(T),C={slots:b,slotProps:{primary:g,secondary:x,...w}},[D,M]=(0,E.A)("primary",{className:W.primary,elementType:s.A,externalForwardedProps:C,ownerState:T}),[P,R]=(0,E.A)("secondary",{className:W.secondary,elementType:s.A,externalForwardedProps:C,ownerState:T});return null==S||S.type===s.A||d||(S=(0,A.jsx)(D,{variant:k?"body2":"body1",component:M?.variant?void 0:"span",...M,children:S})),null==N||N.type===s.A||d||(N=(0,A.jsx)(P,{variant:"body2",color:"textSecondary",...R,children:N})),(0,A.jsxs)(h,{className:(0,a.A)(W.root,i),ownerState:T,ref:t,...v,children:[S,N]})}))},7339:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(6540),a=n(6793),l=n(7164),o=n(1208),s=n(3551),c=n(9799),i=n(4090),m=n(7211),d=n(4545),u=n(3357),p=n(921),y=n(8719),E=n(6576),A=n(3992),h=n(477),g=n(3198),f=n(4155),x=n(4137),b=n(6627),w=n(6798),v=n(4774),k=n(3884),S=n(2848);var N=e=>{let{results:t}=e;const n=(0,h.A)("(max-width:600px)"),[a,o]=r.useState({}),[s,c]=r.useState(!0);r.useEffect((()=>{if(!s)return;const e=setTimeout((()=>c(!1)),2500);return()=>clearTimeout(e)}),[s]),r.useEffect((()=>{o({})}),[n]);return n?r.createElement(l.A,{sx:{position:"relative"}},s&&r.createElement(l.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255,255,255,0.92)",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"}},r.createElement(l.A,{sx:{p:3,borderRadius:2,bgcolor:"background.paper",boxShadow:2,textAlign:"center"}},r.createElement("span",{style:{fontWeight:600,fontSize:18}},"Tap any row to see more details"))),r.createElement(g.A,{component:f.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ccc",borderRadius:"8px"}},r.createElement(x.A,{size:"small",stickyHeader:!0},r.createElement(b.A,null,r.createElement(w.A,{style:{backgroundColor:"#f5f5f5"}},r.createElement(v.A,{style:{fontWeight:"bold"}},"Name"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Distance"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Result"),r.createElement(v.A,null))),r.createElement(k.A,null,t.map(((e,t)=>r.createElement(r.Fragment,{key:t},r.createElement(w.A,{hover:!0,onClick:()=>(e=>{o((t=>({...t,[e]:!t[e]})))})(t),sx:{cursor:"pointer",transition:"background 0.2s",backgroundColor:a[t]?"action.selected":void 0,"&:hover":{backgroundColor:a[t]?"action.selected":"action.hover"},userSelect:"none"}},r.createElement(v.A,null,e.name),r.createElement(v.A,null,e.distance),r.createElement(v.A,null,e.result),r.createElement(v.A,null)),r.createElement(w.A,null,r.createElement(v.A,{style:{paddingBottom:0,paddingTop:0},colSpan:4},r.createElement(S.A,{in:a[t],timeout:"auto",unmountOnExit:!0},r.createElement(l.A,{margin:1},r.createElement("div",null,r.createElement("strong",null,"Event:")," ",e.event),e.place&&r.createElement("div",null,r.createElement("strong",null,"Place:")," ",e.place),r.createElement("div",null,r.createElement("strong",null,"Date:")," ",e.date)))))))))))):r.createElement(g.A,{component:f.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ddd"}},r.createElement(x.A,{stickyHeader:!0},r.createElement(b.A,null,r.createElement(w.A,{style:{backgroundColor:"#f5f5f5"}},r.createElement(v.A,{style:{fontWeight:"bold"}},"Name"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Distance"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Result"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Event"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Place"),r.createElement(v.A,{style:{fontWeight:"bold"}},"Date"))),r.createElement(k.A,null,t.map(((e,t)=>r.createElement(w.A,{key:t,hover:!0},r.createElement(v.A,null,e.name),r.createElement(v.A,null,e.distance),r.createElement(v.A,null,e.result),r.createElement(v.A,null,e.event),r.createElement(v.A,null,e.place),r.createElement(v.A,null,e.date)))))))},T=n(644),W=n(6829),C=n(4519),D=n(7065),M=n(5003),P=n(4848),R=(0,M.A)((0,P.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var L=()=>{const[e,t]=r.useState([]),[n,h]=r.useState(!0),[g,f]=r.useState(null),[x,b]=r.useState(null),[w,v]=r.useState(null),[k,S]=r.useState("undefined"!=typeof window&&window.matchMedia("(max-width:600px)").matches);r.useEffect((()=>{document.body.style.margin="0",document.body.style.padding="0",document.title="Results | WMTC";(async()=>{h(!0),f(null);try{const e=await(0,A.b)("138hvDGLQMJmggHGqWQr_E29276fiE29VS0OQflFsgMk","Results");t(e)}catch(e){f("Failed to load results. Please try again later.")}finally{h(!1)}})()}),[]),r.useEffect((()=>{const e=window.matchMedia("(max-width:600px)"),t=()=>S(e.matches);return e.addEventListener("change",t),S(e.matches),()=>e.removeEventListener("change",t)}),[]);const M=e.filter((e=>e["First Name"]&&""!==e["First Name"].trim()||e["Last Name"]&&""!==e["Last Name"].trim())).map((e=>{let t=e["Race Date"]||"";t=(0,T.H)(t);let n=e["Result (HH:MM:SS.MS)"]||"";if(n){const[e,t]=n.split("."),r=e.split(":"),a=r[1]?r[1]:"",l=r[2]?r[2]:"";let o="";o=r[0]&&Number(r[0])>0?String(Number(r[0]))+":"+a+":"+l:a+":"+l,n=o+(t?"."+t:"")}let r=e["Place (optional)"]&&"N/A"!==e["Place (optional)"].trim()?e["Place (optional)"]:"";return{name:`${e["First Name"]||""} ${e["Last Name"]||""}`.trim(),distance:e["Event Distance"]||"",result:n,event:e["Event Name"]||"",place:r,date:t}})).reduce(((e,t)=>{const n=t.date?new Date(t.date).getFullYear():"Unknown";return e[n]||(e[n]=[]),e[n].push(t),e}),{});Object.keys(M).forEach((e=>{M[e].sort(((e,t)=>e.date&&t.date?new Date(t.date)-new Date(e.date):0))}));const P=Object.keys(M).filter((e=>"Unknown"!==e)).map(Number).sort(((e,t)=>t-e));return M.Unknown&&P.push("Unknown"),r.useEffect((()=>{P.length>0&&!x&&b(P[0])}),[P,x]),r.createElement(W.A,{theme:D.A},r.createElement(C.Ay,null),r.createElement(l.A,{sx:{backgroundColor:"background.default",minHeight:"100vh",width:"100vw"}},r.createElement(a.A,null),r.createElement(o.A,null,r.createElement(s.A,{variant:"h1",gutterBottom:!0,align:"center",sx:{mt:{xs:4,md:6}}},"Results"),r.createElement(l.A,{sx:{maxWidth:"1400px",margin:"0 auto",display:"flex",flexDirection:k?"column":"row",alignItems:"stretch",justifyContent:"center",mt:4}},!k&&r.createElement(l.A,{sx:{minWidth:200,maxWidth:220,mr:4,display:"flex",alignItems:"stretch",height:"100%"}},r.createElement(c.A,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2,boxShadow:1,height:"100%"}},P.map((e=>r.createElement(i.Ay,{key:e,disablePadding:!0},r.createElement(m.A,{selected:x===e,onClick:()=>b(e)},r.createElement(d.A,{primary:e}))))))),r.createElement(l.A,{sx:{flexGrow:1,minWidth:0,display:"flex",alignItems:"flex-start",p:0,width:"100%"}},n?r.createElement(l.A,{sx:{display:"flex",justifyContent:"center",p:3}},r.createElement(u.A,null)):g?r.createElement(l.A,{sx:{p:3,textAlign:"center",color:"error.main"}},r.createElement(s.A,null,g)):k?r.createElement(l.A,{sx:{width:"100%"}},P.map((e=>r.createElement(p.A,{key:e,sx:{mb:2},expanded:w===e,onChange:()=>v(w===e?null:e)},r.createElement(y.A,{expandIcon:r.createElement(R,null)},r.createElement(s.A,{variant:"h6"},e)),r.createElement(E.A,null,r.createElement(N,{results:M[e]})))))):x&&r.createElement(N,{results:M[x]}))))))}}}]);
//# sourceMappingURL=component---src-pages-results-js-8b7e4f6fb06bae499775.js.map