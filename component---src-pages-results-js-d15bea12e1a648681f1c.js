"use strict";(self.webpackChunkwmtc=self.webpackChunkwmtc||[]).push([[791],{4545:function(e,t,n){n.d(t,{A:function(){return g}});var a=n(6540),r=n(4164),l=n(5659),o=n(8651),s=n(3551),c=n(2850),i=n(1848),m=n(5669),d=n(8413),u=n(1609);function p(e){return(0,u.Ay)("MuiListItemText",e)}var y=(0,d.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),E=n(6025),A=n(4848);const h=(0,i.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${y.primary}`]:t.primary},{[`& .${y.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${o.A.root}:where(& .${y.primary})`]:{display:"block"},[`.${o.A.root}:where(& .${y.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]});var g=a.forwardRef((function(e,t){const n=(0,m.b)({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:d=!1,inset:u=!1,primary:y,primaryTypographyProps:g,secondary:f,secondaryTypographyProps:x,slots:b={},slotProps:w={},...v}=n,{dense:k}=a.useContext(c.A);let S=null!=y?y:o,T=f;const W={...n,disableTypography:d,inset:u,primary:!!S,secondary:!!T,dense:k},C=(e=>{const{classes:t,inset:n,primary:a,secondary:r,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",a&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,l.A)(s,p,t)})(W),N={slots:b,slotProps:{primary:g,secondary:x,...w}},[M,P]=(0,E.A)("primary",{className:C.primary,elementType:s.A,externalForwardedProps:N,ownerState:W}),[R,D]=(0,E.A)("secondary",{className:C.secondary,elementType:s.A,externalForwardedProps:N,ownerState:W});return null==S||S.type===s.A||d||(S=(0,A.jsx)(M,{variant:k?"body2":"body1",component:P?.variant?void 0:"span",...P,children:S})),null==T||T.type===s.A||d||(T=(0,A.jsx)(R,{variant:"body2",color:"textSecondary",...D,children:T})),(0,A.jsxs)(h,{className:(0,r.A)(C.root,i),ownerState:W,ref:t,...v,children:[S,T]})}))},7339:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(6540),r=n(6793),l=n(7164),o=n(1208),s=n(3551),c=n(9799),i=n(4090),m=n(7211),d=n(4545),u=n(3357),p=n(921),y=n(8719),E=n(6576),A=n(3992),h=n(477),g=n(3198),f=n(4155),x=n(4137),b=n(6627),w=n(6798),v=n(4774),k=n(3884),S=n(2848),T=n(6431);var W=e=>{let{results:t}=e;const n=(0,h.A)("(max-width:600px)"),[r,o]=a.useState({}),[s,c]=a.useState(!0);a.useEffect((()=>{if(!s)return;const e=setTimeout((()=>c(!1)),2500);return()=>clearTimeout(e)}),[s]),a.useEffect((()=>{o({})}),[n]);return n?a.createElement(l.A,{sx:{position:"relative"}},s&&a.createElement(l.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255,255,255,0.92)",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"}},a.createElement(l.A,{sx:{p:3,borderRadius:2,bgcolor:"background.paper",boxShadow:2,textAlign:"center"}},a.createElement("span",{style:{fontWeight:600,fontSize:18}},"Tap any row to see more details"))),a.createElement(g.A,{component:f.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ccc",borderRadius:"8px"}},a.createElement(x.A,{size:"small",stickyHeader:!0},a.createElement(b.A,null,a.createElement(w.A,{style:{backgroundColor:"#f5f5f5"}},a.createElement(v.A,{style:{fontWeight:"bold"}},"Name"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Distance"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Result"),a.createElement(v.A,null))),a.createElement(k.A,null,t.map(((e,t)=>a.createElement(a.Fragment,{key:t},a.createElement(w.A,{hover:!0,onClick:()=>(e=>{o((t=>({...t,[e]:!t[e]})))})(t),sx:{cursor:"pointer",transition:"background 0.2s",backgroundColor:r[t]?"action.selected":void 0,"&:hover":{backgroundColor:r[t]?"action.selected":"action.hover"},userSelect:"none"}},a.createElement(v.A,null,e.name),a.createElement(v.A,null,e.distance),a.createElement(v.A,null,(0,T.o)(e.result)),a.createElement(v.A,null)),a.createElement(w.A,null,a.createElement(v.A,{style:{paddingBottom:0,paddingTop:0},colSpan:4},a.createElement(S.A,{in:r[t],timeout:"auto",unmountOnExit:!0},a.createElement(l.A,{margin:1},a.createElement("div",null,a.createElement("strong",null,"Event:")," ",e.event),e.place&&a.createElement("div",null,a.createElement("strong",null,"Place:")," ",e.place),a.createElement("div",null,a.createElement("strong",null,"Date:")," ",e.date)))))))))))):a.createElement(g.A,{component:f.A,style:{maxHeight:"70vh",margin:0,border:"1px solid #ddd"}},a.createElement(x.A,{stickyHeader:!0},a.createElement(b.A,null,a.createElement(w.A,{style:{backgroundColor:"#f5f5f5"}},a.createElement(v.A,{style:{fontWeight:"bold"}},"Name"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Distance"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Result"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Event"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Place"),a.createElement(v.A,{style:{fontWeight:"bold"}},"Date"))),a.createElement(k.A,null,t.map(((e,t)=>a.createElement(w.A,{key:t,hover:!0},a.createElement(v.A,null,e.name),a.createElement(v.A,null,e.distance),a.createElement(v.A,null,(0,T.o)(e.result)),a.createElement(v.A,null,e.event),a.createElement(v.A,null,e.place),a.createElement(v.A,null,e.date)))))))},C=n(8420),N=n(4519),M=n(7065),P=n(5003),R=n(4848),D=(0,P.A)((0,R.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var L=()=>{const[e,t]=a.useState([]),[n,h]=a.useState(!0),[g,f]=a.useState(null),[x,b]=a.useState(null),[w,v]=a.useState(null),[k,S]=a.useState("undefined"!=typeof window&&window.matchMedia("(max-width:600px)").matches);a.useEffect((()=>{document.body.style.margin="0",document.body.style.padding="0",document.title="Results | WMTC";(async()=>{h(!0),f(null);try{const e=await(0,A.b)("138hvDGLQMJmggHGqWQr_E29276fiE29VS0OQflFsgMk","Results");t(e)}catch(e){f("Failed to load results. Please try again later.")}finally{h(!1)}})()}),[]),a.useEffect((()=>{const e=window.matchMedia("(max-width:600px)"),t=()=>S(e.matches);return e.addEventListener("change",t),S(e.matches),()=>e.removeEventListener("change",t)}),[]);const P=e.filter((e=>e["First Name"]&&""!==e["First Name"].trim()||e["Last Name"]&&""!==e["Last Name"].trim())).map((e=>{let t=e["Race Date"]||"";t=(0,T.H)(t);let n=e["Result (HH:MM:SS.MS)"]||"";n=(0,T.o)(n);let a=e["Place (optional)"]&&"N/A"!==e["Place (optional)"].trim()?e["Place (optional)"]:"";return{name:`${e["First Name"]||""} ${e["Last Name"]||""}`.trim(),distance:e["Event Distance"]||"",result:n,event:e["Event Name"]||"",place:a,date:t}})).reduce(((e,t)=>{const n=t.date?new Date(t.date).getFullYear():"Unknown";return e[n]||(e[n]=[]),e[n].push(t),e}),{});Object.keys(P).forEach((e=>{P[e].sort(((e,t)=>e.date&&t.date?new Date(t.date)-new Date(e.date):0))}));const R=Object.keys(P).filter((e=>"Unknown"!==e)).map(Number).sort(((e,t)=>t-e));return P.Unknown&&R.push("Unknown"),a.useEffect((()=>{R.length>0&&!x&&b(R[0])}),[R,x]),a.createElement(C.A,{theme:M.A},a.createElement(N.Ay,null),a.createElement(l.A,{sx:{backgroundColor:"background.default",minHeight:"100vh",width:"100vw"}},a.createElement(r.A,null),a.createElement(o.A,null,a.createElement(s.A,{variant:"h1",gutterBottom:!0,align:"center",sx:{mt:{xs:4,md:6}}},"Results"),a.createElement(l.A,{sx:{maxWidth:"1400px",margin:"0 auto",display:"flex",flexDirection:k?"column":"row",alignItems:"stretch",justifyContent:"center",mt:4}},!k&&a.createElement(l.A,{sx:{minWidth:200,maxWidth:220,mr:4,display:"flex",alignItems:"stretch",height:"100%"}},a.createElement(c.A,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:2,boxShadow:1,height:"100%"}},R.map((e=>a.createElement(i.Ay,{key:e,disablePadding:!0},a.createElement(m.A,{selected:x===e,onClick:()=>b(e)},a.createElement(d.A,{primary:e}))))))),a.createElement(l.A,{sx:{flexGrow:1,minWidth:0,display:"flex",alignItems:"flex-start",p:0,width:"100%"}},n?a.createElement(l.A,{sx:{display:"flex",justifyContent:"center",p:3}},a.createElement(u.A,null)):g?a.createElement(l.A,{sx:{p:3,textAlign:"center",color:"error.main"}},a.createElement(s.A,null,g)):k?a.createElement(l.A,{sx:{width:"100%"}},R.map((e=>a.createElement(p.A,{key:e,sx:{mb:2},expanded:w===e,onChange:()=>v(w===e?null:e)},a.createElement(y.A,{expandIcon:a.createElement(D,null)},a.createElement(s.A,{variant:"h6"},e)),a.createElement(E.A,null,a.createElement(W,{results:P[e]})))))):x&&a.createElement(W,{results:P[x]}))))))}}}]);
//# sourceMappingURL=component---src-pages-results-js-d15bea12e1a648681f1c.js.map